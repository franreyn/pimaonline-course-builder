<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>GrapesJS Example</title>
    <link href="https://unpkg.com/grapesjs/dist/css/grapes.min.css" rel="stylesheet">
    <script src="https://unpkg.com/grapesjs"></script>
  </head>
  <body>
    <div id="gjs"></div>
    <button id="add-blocks">Add Custom Blocks</button>
    <button id="export">Export HTML</button>
    <script type="text/javascript">
      var editor = grapesjs.init({
        container: '#gjs',
        fromElement: true,
        storageManager: false,
        plugins: [
          'gjs-blocks-basic',
          'gjs-preset-webpage'
        ],
        canvas: {
          styles: [
            'https://unpkg.com/grapesjs/dist/css/grapes.min.css',
            'https://unpkg.com/grapesjs-preset-webpage/dist/grapesjs-preset-webpage.min.css'
          ]
        }
      });

      // Add the custom blocks to the block manager
      document.getElementById('add-blocks').addEventListener('click', function() {
        editor.BlockManager.add('my-text-block', {
          label: 'Text',
          content: '<div class="my-text-block">Enter your text here</div>',
          category: 'Basic',
          attributes: {
            class: 'fa fa-font'
          }
        });

        editor.BlockManager.add('my-image-block', {
          label: 'Image',
          content: '<div class="my-image-block"><img src="https://source.unsplash.com/random/400x400"></div>',
          category: 'Basic',
          attributes: {
            class: 'fa fa-picture-o'
          }
        });
      });

      // Export the HTML
      document.getElementById('export').addEventListener('click', function() {
        var htmlCode = editor.getHtml();
        var cssCode = editor.getCss();
        console.log(htmlCode, cssCode);
      });
    </script>
  </body>
</html>
